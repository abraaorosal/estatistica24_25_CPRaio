(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7485:function(e,a,s){Promise.resolve().then(s.bind(s,9232))},9232:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return es}});var t=s(7437),r=s(2265),n=s(5231),i=s(5974),l=s(4142),o=s(2842),d=s(9542),c=s(5475),m=s(153),u=s(8997),x=s(2566),p=s(6638),h=s(7293),f=s(4839);function j(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,f.W)(a)}function v(e){let{children:a,tone:s="neutral",className:r}=e;return(0,t.jsx)("span",{className:j("inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",{positive:"bg-emerald-100 text-emerald-700",negative:"bg-rose-100 text-rose-700",neutral:"bg-slate-100 text-slate-700"}[s],r),children:a})}function g(e){let{children:a,onClick:s,variant:r="primary",className:n,type:i="button"}=e;return(0,t.jsx)("button",{type:i,onClick:s,className:j("inline-flex items-center gap-2 rounded-full px-5 py-2 text-sm font-semibold transition hover:scale-[1.01] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",{primary:"bg-primary text-ink shadow-soft",ghost:"bg-transparent text-ink hover:bg-white/60",outline:"border border-ink/20 text-ink bg-white/70"}[r],n),children:a})}function b(e){let{children:a,className:s}=e;return(0,t.jsx)("div",{className:j("rounded-3xl bg-white/90 shadow-card border border-white/60 p-6",s),children:a})}function N(e){let{title:a,description:s,className:r}=e;return(0,t.jsxs)("div",{className:j("mb-4",r),children:[(0,t.jsx)("h3",{className:"font-display text-lg text-ink",children:a}),s?(0,t.jsx)("p",{className:"text-sm text-slate mt-1",children:s}):null]})}function y(e){let{label:a,value:s,onChange:r,options:n,className:i,ariaLabel:l}=e;return(0,t.jsxs)("label",{className:j("flex flex-col gap-2 text-sm font-medium",i),children:[a?(0,t.jsx)("span",{className:"text-slate",children:a}):null,(0,t.jsx)("select",{"aria-label":l||a,value:s,onChange:e=>r(e.target.value),className:"rounded-2xl border border-ink/10 bg-white/80 px-3 py-2 text-sm shadow-soft focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:n.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})}function k(e){let{className:a}=e;return(0,t.jsx)("div",{className:j("h-px w-full bg-gradient-to-r from-transparent via-ink/15 to-transparent",a)})}function w(e){let{headers:a,rows:s,className:r}=e;return(0,t.jsx)("div",{className:j("overflow-x-auto",r),children:(0,t.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"text-left text-slate",children:a.map(e=>(0,t.jsx)("th",{className:"pb-3 pr-4 font-semibold",children:e},e))})}),(0,t.jsx)("tbody",{children:s.map((e,a)=>(0,t.jsx)("tr",{className:"border-t border-ink/10 text-ink",children:e.map((e,a)=>(0,t.jsx)("td",{className:"py-3 pr-4",children:e},"cell-".concat(a)))},"row-".concat(a)))})]})})}let A=(0,r.createContext)(null);function C(e){let{value:a,onValueChange:s,children:r,className:n}=e;return(0,t.jsx)(A.Provider,{value:{value:a,onValueChange:s},children:(0,t.jsx)("div",{className:n,children:r})})}function E(e){let{children:a,className:s}=e;return(0,t.jsx)("div",{className:j("inline-flex flex-wrap gap-2 rounded-full bg-white/80 p-2 shadow-soft",s),children:a})}function M(e){let{value:a,children:s,className:n}=e,i=(0,r.useContext)(A);if(!i)return null;let l=i.value===a;return(0,t.jsx)("button",{type:"button",onClick:()=>i.onValueChange(a),className:j("rounded-full px-4 py-2 text-sm font-semibold transition",l?"bg-primary text-ink shadow-soft":"bg-transparent text-slate hover:bg-white/70",n),children:s})}function V(e){let{value:a,children:s,className:n}=e,i=(0,r.useContext)(A);return i&&i.value===a?(0,t.jsx)("div",{className:n,children:s}):null}function P(e){let{content:a,children:s,className:n}=e,[i,l]=(0,r.useState)(!1);return(0,t.jsxs)("span",{className:"relative inline-flex",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onFocus:()=>l(!0),onBlur:()=>l(!1),tabIndex:0,"aria-label":a,children:[s,i?(0,t.jsx)("span",{role:"tooltip",className:j("absolute left-1/2 top-full z-10 mt-2 w-48 -translate-x-1/2 rounded-2xl bg-ink px-3 py-2 text-xs text-white shadow-lg",n),children:a}):null]})}var S=s(8355),O=s.n(S);let R=["Total de Ocorr\xeancias","Armas Apreendidas","Mandados Cumpridos","Drogas Apreendidas","Ve\xedculos Apreendidos","Pris\xf5es Realizadas"],I={"Total de Ocorr\xeancias":"Quantidade total de registros operacionais consolidados.","Armas Apreendidas":"Armas retiradas de circula\xe7\xe3o no per\xedodo.","Mandados Cumpridos":"Mandados judiciais executados pelas equipes.","Drogas Apreendidas":"Ocorr\xeancias com apreens\xe3o de entorpecentes.","Ve\xedculos Apreendidos":"Ve\xedculos recolhidos em a\xe7\xf5es operacionais.","Pris\xf5es Realizadas":"Condu\xe7\xf5es ou pris\xf5es efetivadas no per\xedodo."},z={"pris\xf5es realizadas (condu\xe7\xf5es a delegacia)":"Pris\xf5es Realizadas","pris\xf5es realizadas":"Pris\xf5es Realizadas","total de ocorrencias":"Total de Ocorr\xeancias","total de ocorr\xeancias":"Total de Ocorr\xeancias","armas apreendidas":"Armas Apreendidas","mandados cumpridos":"Mandados Cumpridos","drogas apreendidas":"Drogas Apreendidas","ve\xedculos apreendidos":"Ve\xedculos Apreendidos","veiculos apreendidos":"Ve\xedculos Apreendidos"},T={"Total de Ocorr\xeancias":{2024:8025,2025:9122},"Armas Apreendidas":{2024:2454,2025:2914},"Mandados Cumpridos":{2024:851,2025:1042},"Drogas Apreendidas":{2024:1480,2025:1859},"Ve\xedculos Apreendidos":{2024:2645,2025:2699},"Pris\xf5es Realizadas":{2024:6824,2025:7578}};async function U(e){let a=await fetch(e);if(!a.ok)throw Error("Falha ao carregar ".concat(e));return a.text()}function K(e){if(null==e||""===e)return NaN;if("number"==typeof e)return e;let a=Number(e.toString().replace("%","").replace(/\s/g,"").replace(",","."));return Number.isNaN(a)?NaN:a}async function F(){let e={totalsFallback:!1,missingColumns:[],notes:[]},a=[];try{let s=await U("/data/totals.csv"),t=O().parse(s,{header:!0,skipEmptyLines:!0}).data,r=t[0]&&(t[0],"Indicador"),n=t[0]&&(t[0],"Ano"),i=t[0]&&("Valor"in t[0]?"Valor":"Quantidade"in t[0]?"Quantidade":"Valor");t[0]&&r&&n&&i?a=t.map(e=>{var a;return{Indicador:z[(a=e[r]||"").trim().toLowerCase()]||a.trim(),Ano:K(e[n])||0,Valor:K(e[i])||0}}):e.missingColumns.push("totals.csv")}catch(a){e.notes.push("Falha ao carregar totals.csv, usando fallback.")}return 0===a.length&&(e.totalsFallback=!0,a=R.flatMap(e=>[{Indicador:e,Ano:2024,Valor:T[e][2024]},{Indicador:e,Ano:2025,Valor:T[e][2025]}])),{rows:a,warnings:e}}async function B(e){try{let a=await U(e);return O().parse(a,{header:!0,skipEmptyLines:!0}).data.map(e=>({Ano:K(e.Ano)||0,Unidade:e.Unidade||"",Ocorrencias:K(e.Ocorrencias),Armas:K(e.Armas),Trafico:K(e.Trafico),Mandados:K(e.Mandados),Veiculos:K(e.Veiculos),Percentual:K(e.Percentual)}))}catch(e){return[]}}async function D(){let[e,a,s,t,r]=await Promise.all([B("/data/ranking_geral.csv"),B("/data/ranking_arms.csv"),B("/data/ranking_mandados.csv"),B("/data/ranking_trafico.csv"),B("/data/ranking_veiculos.csv")]);return{geral:e,armas:a,mandados:s,trafico:t,veiculos:r}}function L(e,a,s){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;return e.filter(e=>e.Ano===s).filter(e=>Number.isFinite(e[a])).sort((e,s)=>s[a]-e[a]).slice(0,t).map((e,a)=>({...e,Pos:a+1}))}function _(e){return({Ocorrencias:"Ocorr\xeancias",Armas:"Armas",Trafico:"Tr\xe1fico",Mandados:"Mandados",Veiculos:"Ve\xedculos"})[e]||e}let G="#F2C200",q=[{value:"Ocorrencias",label:"Ocorr\xeancias"},{value:"Armas",label:"Armas"},{value:"Trafico",label:"Tr\xe1fico"},{value:"Mandados",label:"Mandados"}],Y=[{value:"absolute",label:"Absoluto"},{value:"percent",label:"Percentual"}],$=[{key:"geral",label:"Geral"},{key:"armas",label:"Armas"},{key:"mandados",label:"Mandados"},{key:"trafico",label:"Tr\xe1fico"},{key:"veiculos",label:"Ve\xedculos"}],Q=[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"comparar",label:"Comparar"}];function W(e){return new Intl.NumberFormat("pt-BR").format(e)}function H(e){return Number.isFinite(e)?"".concat(e.toFixed(2).replace(".",","),"%"):"0%"}function J(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv",t=new Blob([a],{type:s}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=e,r.click(),URL.revokeObjectURL(r.href)}function X(e){if(0===e.length)return"";let a=Object.keys(e[0]),s=e.map(e=>a.map(a=>"".concat(e[a]).replace(/\n/g," ")).join(","));return[a.join(","),...s].join("\n")}function Z(e){let{message:a}=e;return(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-ink/20 bg-white/60 p-6 text-sm text-slate",children:a})}function ee(e){let{diff:a,percent:s}=e;return .01>Math.abs(s)?(0,t.jsx)(v,{tone:"neutral",children:"Est\xe1vel"}):s>0?(0,t.jsx)(v,{tone:"positive",children:"Melhora"}):(0,t.jsx)(v,{tone:"negative",children:"Queda"})}function ea(e){return async()=>{if(!e.current)return;let a=await (0,h.YM)(e.current,{backgroundColor:"#ffffff"}),s=document.createElement("a");s.download="grafico.png",s.href=a,s.click()}}function es(){let[e,a]=(0,r.useState)("visao"),[s,h]=(0,r.useState)("geral"),[f,j]=(0,r.useState)("comparar"),[v,A]=(0,r.useState)("Ocorrencias"),[S,O]=(0,r.useState)(!0),[z,T]=(0,r.useState)({}),[U,K]=(0,r.useState)({}),[B,es]=(0,r.useState)([]),[et,er]=(0,r.useState)(R[0]),[en,ei]=(0,r.useState)("2024"),[el,eo]=(0,r.useState)("2025"),[ed,ec]=(0,r.useState)("absolute"),em=(0,r.useRef)(null),eu=(0,r.useRef)(null),ex=(0,r.useRef)(null);(0,r.useEffect)(()=>{document.documentElement.style.setProperty("--theme-primary",G)},[]),(0,r.useEffect)(()=>{(async function(){O(!0);try{let e=await F(),a=await D();T(e.rows.reduce((e,a)=>(e[a.Indicador]||(e[a.Indicador]={2024:0,2025:0}),(2024===a.Ano||2025===a.Ano)&&(e[a.Indicador][a.Ano]=a.Valor),e),{})),K(a);let s=[];e.warnings.totalsFallback&&s.push("Totals.csv n\xe3o dispon\xedvel; valores exibidos com base no baseline interno."),e.warnings.notes.forEach(e=>s.push(e)),es(s)}catch(e){es(["Falha ao carregar dados. Verifique a pasta /public/data."])}finally{O(!1)}})()},[]);let ep=(0,r.useMemo)(()=>R.map(e=>{let a=z[e]||{2024:0,2025:0},{diff:s,percent:t}=function(e,a){let s=a-e;return{diff:s,percent:0===e?0:s/e*100}}(a[2024],a[2025]);return{indicator:e,value2024:a[2024],value2025:a[2025],diff:s,percent:t}}),[z]),eh=(0,r.useMemo)(()=>ep.map(e=>({name:e.indicator,2024:e.value2024,2025:e.value2025})),[ep]),ef=(0,r.useMemo)(()=>ep.map(e=>({name:e.indicator,crescimento:e.percent})),[ep]),ej=(0,r.useMemo)(()=>(function(e){let a=[...e].sort((e,a)=>a.percent-e.percent);return{top3:a.slice(0,3),least:a.reduce((e,a)=>Math.abs(a.percent)<Math.abs(e.percent)?a:e)}})(ef.map(e=>({name:e.name,percent:e.crescimento}))),[ef]),ev=U[s]||[],eg="geral"===s?v:"armas"===s?"Armas":"mandados"===s?"Mandados":"trafico"===s?"Trafico":"Veiculos",eb=(0,r.useMemo)(()=>L(ev,eg,2024),[ev,eg]),eN=(0,r.useMemo)(()=>L(ev,eg,2025),[ev,eg]),ey=(0,r.useMemo)(()=>{let e=new Map;[...eb,...eN].forEach(a=>{let s=e.get(a.Unidade)||{unidade:a.Unidade,2024:0,2025:0};2024===a.Ano&&(s[2024]=a[eg]||0),2025===a.Ano&&(s[2025]=a[eg]||0),e.set(a.Unidade,s)});let a=Array.from(e.values());return"2024"===f?a.map(e=>({...e,2025:0})):"2025"===f?a.map(e=>({...e,2024:0})):a},[eb,eN,f,eg]),ek=(0,r.useMemo)(()=>{let e=Number(en),a=Number(el),s=z[et]||{2024:0,2025:0},t=s[e],r=s[a],n=r-t;return{baseYear:e,compareYear:a,baseValue:t,compareValue:r,diff:n,percent:0===t?0:n/t*100}},[en,el,et,z]),ew=ea(em),eA=ea(eu),eC=ea(ex);return(0,t.jsx)("main",{className:"min-h-screen px-4 py-10 md:px-10 lg:px-16",children:(0,t.jsxs)("section",{className:"mx-auto max-w-6xl space-y-8",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-6 rounded-[32px] bg-white/80 p-6 shadow-card md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,t.jsx)("img",{src:"/assets/logo-raio.png",alt:"Logo RAIO",className:"h-20 w-auto md:h-24"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-display text-2xl text-ink md:text-3xl",children:"Painel Estat\xedstico CPRAIO 2025 – Comparativo 2024–2025"}),(0,t.jsx)("p",{className:"text-sm text-slate",children:"Indicadores consolidados | Compara\xe7\xe3o anual | CPRAIO / PMCE"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 rounded-2xl bg-white/80 p-4",children:[(0,t.jsx)("img",{src:"/assets/logo-pmce.png",alt:"Logo PMCE",className:"h-14 w-auto"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate",children:"Vinculado \xe0 PMCE"}),(0,t.jsx)("p",{className:"text-sm font-medium text-ink",children:"Pol\xedcia Militar do Cear\xe1"})]})]})]}),(0,t.jsxs)(C,{value:e,onValueChange:a,children:[(0,t.jsxs)(E,{children:[(0,t.jsx)(M,{value:"visao",children:"Vis\xe3o Geral"}),(0,t.jsx)(M,{value:"rankings",children:"Rankings"}),(0,t.jsx)(M,{value:"comparador",children:"Comparador"}),(0,t.jsx)(M,{value:"metodologia",children:"Metodologia"})]}),(0,t.jsxs)(V,{value:"visao",className:"mt-8 space-y-8 animate-float",children:[S?(0,t.jsx)(Z,{message:"Carregando indicadores consolidados..."}):(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:ep.map(e=>(0,t.jsxs)(b,{className:"relative",children:[(0,t.jsx)("div",{className:"absolute right-6 top-6 text-2xl",children:function(e){let{percent:a}=e;return .01>Math.abs(a)?"→":a>0?"↑":"↓"}({percent:e.percent})}),(0,t.jsx)(P,{content:I[e.indicator],children:(0,t.jsx)("h2",{className:"font-display text-lg text-ink",children:e.indicator})}),(0,t.jsx)("p",{className:"mt-3 text-3xl font-semibold text-ink",children:W(e.value2025)}),(0,t.jsxs)("p",{className:"text-sm text-slate",children:["2024: ",W(e.value2024)]}),(0,t.jsx)(k,{className:"my-4"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-slate",children:["Δ ",W(e.diff)]}),(0,t.jsxs)("p",{className:"text-sm text-slate",children:["Δ% ",H(e.percent)]})]}),(0,t.jsx)(ee,{diff:e.diff,percent:e.percent})]})]},e.indicator))}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Comparativo por indicador",description:"Barras agrupadas mostrando a evolu\xe7\xe3o anual."}),(0,t.jsx)("div",{ref:em,className:"h-80",children:(0,t.jsx)(n.h,{width:"100%",height:"100%",children:(0,t.jsxs)(i.v,{data:eh,margin:{left:8,right:8},children:[(0,t.jsx)(l.q,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),(0,t.jsx)(o.K,{dataKey:"name",tick:{fontSize:10}}),(0,t.jsx)(d.B,{tick:{fontSize:10}}),(0,t.jsx)(c.u,{}),(0,t.jsx)(m.D,{}),(0,t.jsx)(u.$,{dataKey:"2024",fill:"#4A5568",radius:[6,6,0,0]}),(0,t.jsx)(u.$,{dataKey:"2025",fill:G,radius:[6,6,0,0]})]})})}),(0,t.jsx)("div",{className:"mt-4 flex items-center justify-end",children:(0,t.jsx)(g,{variant:"outline",onClick:ew,children:"Exportar PNG"})})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"\xcdndice de crescimento",description:"Varia\xe7\xe3o percentual do indicador no per\xedodo."}),(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(n.h,{width:"100%",height:"100%",children:(0,t.jsxs)(x.w,{data:ef,children:[(0,t.jsx)(l.q,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),(0,t.jsx)(o.K,{dataKey:"name",tick:{fontSize:10}}),(0,t.jsx)(d.B,{tick:{fontSize:10}}),(0,t.jsx)(c.u,{formatter:e=>H(e)}),(0,t.jsx)(p.x,{type:"monotone",dataKey:"crescimento",stroke:G,strokeWidth:3,dot:{r:4}})]})})})]})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Insights autom\xe1ticos",description:"Leitura r\xe1pida para p\xfablicos n\xe3o t\xe9cnicos."}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate",children:"Top 3 crescimentos"}),(0,t.jsx)("ul",{className:"mt-2 space-y-2 text-sm",children:ej.top3.map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-primary"}),e.name,": ",H(e.percent)]},e.name))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate",children:"Menor varia\xe7\xe3o"}),(0,t.jsxs)("p",{className:"mt-2 text-sm",children:[ej.least.name," ficou praticamente est\xe1vel com"," ",H(ej.least.percent),"."]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate",children:"Resumo did\xe1tico"}),(0,t.jsx)("p",{className:"mt-2 text-sm",children:"Em 2025, a maioria dos indicadores apresentou crescimento, indicando intensifica\xe7\xe3o das a\xe7\xf5es operacionais no per\xedodo."})]})]})]})]}),(0,t.jsxs)(V,{value:"rankings",className:"mt-8 space-y-8 animate-float",children:[(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:$.map(e=>(0,t.jsx)(g,{variant:s===e.key?"primary":"ghost",onClick:()=>h(e.key),children:e.label},e.key))}),(0,t.jsxs)("div",{className:"flex flex-wrap items-end gap-6",children:[(0,t.jsx)(y,{label:"Ano",value:f,onChange:j,options:Q}),"geral"===s?(0,t.jsx)(y,{label:"M\xe9trica",value:v,onChange:A,options:q}):null,(0,t.jsx)(g,{variant:"outline",onClick:()=>{J("cpraio-ranking-filtrado.csv",X(("2024"===f?eb:"2025"===f?eN:[...eb,...eN]).map(e=>({Ano:e.Ano,Unidade:e.Unidade,Valor:e[eg]||0}))))},children:"Exportar CSV filtrado"})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Top 3 unidades",description:"Ranking lado a lado por ano."}),0===eb.length&&0===eN.length?(0,t.jsx)(Z,{message:"Sem dados dispon\xedveis para este ranking."}):(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate",children:"2024"}),(0,t.jsx)(w,{headers:["Pos","Unidade",_(eg)],rows:eb.map(e=>[e.Pos||"-",e.Unidade,W(e[eg]||0)])})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate",children:"2025"}),(0,t.jsx)(w,{headers:["Pos","Unidade",_(eg)],rows:eN.map(e=>[e.Pos||"-",e.Unidade,W(e[eg]||0)])})]})]})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Comparativo por unidade",description:"Barras horizontais por unidade e ano."}),(0,t.jsx)("div",{ref:eu,className:"h-80",children:0===ey.length?(0,t.jsx)(Z,{message:"Sem dados para o gr\xe1fico selecionado."}):(0,t.jsx)(n.h,{width:"100%",height:"100%",children:(0,t.jsxs)(i.v,{data:ey,layout:"vertical",margin:{left:32,right:8},children:[(0,t.jsx)(l.q,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),(0,t.jsx)(o.K,{type:"number",tick:{fontSize:10}}),(0,t.jsx)(d.B,{type:"category",dataKey:"unidade",tick:{fontSize:9},width:130}),(0,t.jsx)(c.u,{}),(0,t.jsx)(m.D,{}),"2025"!==f?(0,t.jsx)(u.$,{dataKey:"2024",name:"2024",fill:"#4A5568",radius:[6,6,6,6]}):null,"2024"!==f?(0,t.jsx)(u.$,{dataKey:"2025",name:"2025",fill:G,radius:[6,6,6,6]}):null]})})}),(0,t.jsx)("div",{className:"mt-4 flex items-center justify-end",children:(0,t.jsx)(g,{variant:"outline",onClick:eA,children:"Exportar PNG"})})]})]})]}),(0,t.jsxs)(V,{value:"comparador",className:"mt-8 space-y-8 animate-float",children:[(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Comparador interativo",description:"Escolha indicadores e anos para entender a varia\xe7\xe3o."}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsx)(y,{label:"Indicador",value:et,onChange:er,options:R.map(e=>({value:e,label:e}))}),(0,t.jsx)(y,{label:"Ano base",value:en,onChange:ei,options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"}]}),(0,t.jsx)(y,{label:"Ano comparado",value:el,onChange:eo,options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"}]}),(0,t.jsx)(y,{label:"Exibi\xe7\xe3o",value:ed,onChange:ec,options:Y})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Resumo",description:"Comparativo r\xe1pido entre anos selecionados."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-3xl font-semibold",children:W(ek.compareValue)}),(0,t.jsxs)("p",{className:"text-sm text-slate",children:["Base ",ek.baseYear,": ",W(ek.baseValue)]}),(0,t.jsx)(k,{className:"my-4"}),(0,t.jsxs)("p",{className:"text-sm text-slate",children:["Δ ",W(ek.diff)," (",H(ek.percent),")"]})]})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Visualiza\xe7\xe3o",description:"Barras comparativas com tooltip."}),(0,t.jsx)("div",{ref:ex,className:"h-72",children:(0,t.jsx)(n.h,{width:"100%",height:"100%",children:(0,t.jsxs)(i.v,{data:"percent"===ed?[{name:"Varia\xe7\xe3o (%)",valor:ek.percent}]:[{name:"".concat(ek.baseYear),valor:ek.baseValue},{name:"".concat(ek.compareYear),valor:ek.compareValue}],children:[(0,t.jsx)(l.q,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),(0,t.jsx)(o.K,{dataKey:"name"}),(0,t.jsx)(d.B,{}),(0,t.jsx)(c.u,{formatter:e=>"percent"===ed?H(e):W(e)}),(0,t.jsx)(u.$,{dataKey:"valor",fill:G,radius:[6,6,0,0]})]})})}),(0,t.jsx)("div",{className:"mt-4 flex items-center justify-end",children:(0,t.jsx)(g,{variant:"outline",onClick:eC,children:"Exportar PNG"})})]})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Narrativa autom\xe1tica",description:"Explica\xe7\xe3o em linguagem simples."}),(0,t.jsxs)("p",{className:"text-sm",children:["Em ",ek.compareYear,", houve"," ",ek.diff>=0?"mais":"menos"," ","percent"===ed?H(Math.abs(ek.percent)):W(Math.abs(ek.diff))," ","de ",et," em rela\xe7\xe3o a ",ek.baseYear,", representando ",H(ek.percent),"."]})]})]}),(0,t.jsx)(V,{value:"metodologia",className:"mt-8 space-y-8 animate-float",children:(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{title:"Metodologia e transpar\xeancia",description:"Contexto institucional e fonte dos dados."}),(0,t.jsxs)("div",{className:"space-y-4 text-sm text-slate",children:[(0,t.jsx)("p",{children:"Fonte: Relat\xf3rios Operacionais Consolidados — Sistema Integrado de Gerenciamento Estat\xedstico."}),(0,t.jsx)("p",{children:"Per\xedodos analisados: 2024-01-01 a 2024-12-22 e 2025-01-01 a 2025-12-22."}),(0,t.jsx)("p",{children:"Dados consolidados de todas as unidades no per\xedodo especificado. N\xe3o h\xe1 dados pessoais, apenas agregados."}),B.length>0?(0,t.jsxs)("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 text-amber-800",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Avisos de integridade:"}),(0,t.jsx)("ul",{className:"mt-2 list-disc pl-5",children:B.map(e=>(0,t.jsx)("li",{children:e},e))})]}):null]}),(0,t.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,t.jsx)(g,{onClick:()=>{J("cpraio-totais-processados.csv",X([...ep.map(e=>({Indicador:e.indicator,Ano:2024,Valor:e.value2024})),...ep.map(e=>({Indicador:e.indicator,Ano:2025,Valor:e.value2025}))]))},children:"Baixar CSV processado"}),(0,t.jsx)(g,{variant:"outline",onClick:ew,children:"Exportar gr\xe1ficos (PNG)"})]})]})})]})]})})}}},function(e){e.O(0,[67,971,23,744],function(){return e(e.s=7485)}),_N_E=e.O()}]);